---
import { getCollection } from "astro:content";
import Layout from "~layouts/Layout.astro";

const worksList = await getCollection("works");
---

<Layout title="Works" description="List some of my works." url="https://ekel.dev/works">
  <div
    class:list={[
      "flex flex-col items-start justify-start w-full",
      "md:text-start",
    ]}
  >
    <section class="w-full">
      <h1 class="mb-0">Works</h1>
      <p id="description" class="text-justify mb-0">List some of my works.</p>
    </section>
    <section class="w-full mt-8">
      <div class="grid grid-cols-1 sm:grid-cols-2 grid-rows-1 w-full gap-4">
        {
          worksList
            .sort((a, b) => a.data.id - b.data.id)
            .map((item) => (
              <div
                class:list={[
                  "p-4 w-full flex flex-col bg-white drop-shadow-sm",
                  "flex-wrap border border-dashed border-base-0",
                ]}
              >
                <a
                  href={`/works/${item.slug}`}
                  class:list={[
                    "cursor-pointer text-lg font-bold",
                    "!no-underline",
                  ]}
                >
                  <h3 class="mt-0 font-bold line-clamp-2 mb-0 text-2xl">
                    {item.data.title}
                  </h3>
                </a>
                <p class="mt-2 mb-0">{item.data.description}</p>
              </div>
            ))
        }
      </div>
    </section>
  </div>
</Layout>
